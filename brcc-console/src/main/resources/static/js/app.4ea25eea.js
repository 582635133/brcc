(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04522f9c":"43080c90","chunk-0627ae0c":"e406e18f","chunk-182bec86":"cd889e19","chunk-2d0b60c8":"a3fbd47b","chunk-2d0ce830":"964cd453","chunk-2d0cf311":"1f9f1ef0","chunk-2d0e95df":"0474a85d","chunk-3b148d26":"814eedc4","chunk-45f8e821":"b9cdca75","chunk-4ddb30c9":"8904c0d5","chunk-7c53eeea":"3c0704ef","chunk-b342cafa":"a0f34668","chunk-d886e2ce":"ffd2c269","chunk-fd434c7a":"f016d2ad"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-182bec86":1,"chunk-3b148d26":1,"chunk-45f8e821":1,"chunk-7c53eeea":1,"chunk-b342cafa":1,"chunk-fd434c7a":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-04522f9c":"31d6cfe0","chunk-0627ae0c":"31d6cfe0","chunk-182bec86":"c796299c","chunk-2d0b60c8":"31d6cfe0","chunk-2d0ce830":"31d6cfe0","chunk-2d0cf311":"31d6cfe0","chunk-2d0e95df":"31d6cfe0","chunk-3b148d26":"e68f5a39","chunk-45f8e821":"c51b09e4","chunk-4ddb30c9":"31d6cfe0","chunk-7c53eeea":"bb9f0232","chunk-b342cafa":"b0cc1280","chunk-d886e2ce":"31d6cfe0","chunk-fd434c7a":"cc658f92"}[e]+".css",o=u.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var i=c[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],l=i.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],p.parentNode.removeChild(p),n(c)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var p=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03d1":function(e,t,n){},1195:function(e,t,n){e.exports=n.p+"img/avatar.4770860c.png"},"2ecf":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("d13f");var r=n("ccb9"),a=(n("c68a"),n("0020")),o=(n("e7c6"),n("a8ba")),c=(n("7f6b"),n("8592")),s=(n("2ef0"),n("9839")),u=(n("9980"),n("0bb7")),i=(n("de6a"),n("9a63")),l=(n("dd98"),n("3779")),d=(n("5783"),n("59a5")),p=(n("2a26"),n("768f")),f=(n("68c7"),n("de1b")),m=(n("fbd8"),n("55f1")),h=(n("38e4"),n("d49c")),g=(n("d88f"),n("fe2b")),v=(n("1a62"),n("98c5")),b=(n("5704"),n("b558")),y=(n("8fb1"),n("0c63")),k=(n("f2ef"),n("3af3")),w=(n("9d5c"),n("a600")),j=(n("6d2a"),n("9571")),O=(n("55ec"),n("a79d")),P=(n("d2a3"),n("4df5")),$=(n("0032"),n("e32c")),C=(n("ee00"),n("bb76")),S=(n("3c1f"),n("2f50")),_=(n("288f"),n("cdeb")),x=(n("6ba6"),n("5efb")),I=(n("dd48"),n("2fc4")),E=(n("ab9e"),n("2c92")),L=(n("af3d"),n("27fd")),V=(n("cd17"),n("ed3b")),T=(n("dc5a"),n("56cd")),N=(n("3b18"),n("f64c")),q=(n("cadf"),n("551c"),n("f751"),n("097d"),n("8bbf")),D=n.n(q),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-config-provider",{attrs:{locale:e.locale}},[n("div",{attrs:{id:"app"}},[n("router-view")],1)])},M=[],F=n("677e"),U=n.n(F),R={data:function(){return{locale:U.a}},created:function(){""===localStorage.getItem("rcc-info")&&localStorage.setItem("rcc-info",JSON.stringify({}))}},G=R,J=(n("7c55"),n("2877")),B=Object(J["a"])(G,A,M,!1,null,null,null),z=B.exports,H=n("6389"),K=n.n(H),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-layout",{staticClass:"layout"},[n("rcc-header"),n("a-layout-content",{staticClass:"layout-container"},[n("router-view",{key:e.key})],1),n("a-layout-footer",[n("rcc-footer")],1)],1)],1)},W=[],X=(n("7f7f"),n("03d1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-header",{staticClass:"rcc-header"},[n("div",{staticClass:"logo",on:{click:function(t){return e.routerTo("/index")}}},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:e.logo,alt:"logo"}})])]),n("div",{staticClass:"search-form"},[n("a-form",{attrs:{layout:"inline",form:e.form}},[n("div",{staticClass:"config-search"},[n("a-form-item",[n("a-cascader",{staticStyle:{width:"400px"},attrs:{options:e.options,"change-on-select":"","field-names":{label:"name",value:"id",children:"children"},"popup-class-name":"search-select",placeholder:"快捷导航，支持搜索","show-search":e.showSearch},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("跳转")])],1)],1),n("div",{staticClass:"config-search"},[n("a-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"配置查询"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["key",{initialValue:e.$route.query.key}],expression:"['key', {initialValue: $route.query.key}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"key"}})],1),n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["val",{initialValue:e.$route.query.val}],expression:"['val', {initialValue: $route.query.val}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"value"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1)],1)])],1),n("div",{staticClass:"avatar"},[n("a-dropdown",{attrs:{trigger:["click"]}},[n("div",{on:{click:function(e){return e.preventDefault()}}},[n("a-avatar",{attrs:{src:e.avatar}}),n("a",{staticClass:"ant-dropdown-link"},[e._v("\n                            "+e._s(e.username)),n("a-icon",{attrs:{type:"down"}})],1)],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.routerTo("/productLine")}}},[e._v("我的产品线")])]),3==e.role?n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.routerTo("/listUser")}}},[e._v("用户管理")])]):e._e(),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:e.handleRestPassword}},[e._v("密码重置")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.routerTo("/index")}}},[e._v("回到首页")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:e.logout}},[e._v("退出")])])],1)],1),n("user-modal",{attrs:{usermodal:e.usermodal},on:{update:e.logout}})],1)])}),Y=[],Z=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("bd86")),ee=n("cf05"),te=n.n(ee),ne=n("1195"),re=n.n(ne),ae=n("daa0");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){Object(Z["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se={name:"rcc-header",components:{"user-modal":ae["a"]},data:function(){return{logo:te.a,avatar:re.a,username:"",role:"",options:[],value:[],form:this.$form.createForm(this),showSearch:{matchInputWidth:!0},usermodal:{show:!1,title:"重置密码",option:"restpwd",name:"",id:""}}},created:function(){var e=this;this.getTreeInfo(),setTimeout((function(){var t=localStorage.getItem("rcc-name");e.username=t,e.role=localStorage.getItem("rcc-role")}),2e3)},methods:{logout:function(){var e=localStorage.getItem("rcc-token");localStorage.setItem("rcc-token",""),localStorage.setItem("rcc-name",""),localStorage.setItem("rcc-info",JSON.stringify({})),window.location.href="/user/logout?rcc-token="+e},routerTo:function(e){this.$router.push(e)},onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];localStorage.setItem("rcc-info",JSON.stringify(ce(ce({},JSON.parse(localStorage.getItem("rcc-info"))),{},{productId:t[0]?t[0].id:"",productName:t[0]?t[0].name:"",projectId:t[1]?t[1].id:"",projectName:t[1]?t[1].name:"",environmentId:t[2]?t[2].id:"",environmentName:t[2]?t[2].name:"",versionId:t[3]?t[3].id:"",versionName:t[3]?t[3].name:"",groupId:t[4]?t[4].id:"",groupName:t[4]?t[4].name:""})))},handleSearch:function(e){switch(e.preventDefault(),this.value.length){case 0:this.$router.push({path:"/index"});break;case 1:this.$router.push({path:"/listProject",query:{productId:this.value[0]}});break;case 2:this.$router.push({path:"/listEnv",query:{projectId:this.value[1]}});break;case 3:this.$router.push({path:"/listVersion",query:{environmentId:this.value[2]}});break;case 4:this.$router.push({path:"/listConfigGroup",query:{versionId:this.value[3]}});break;case 5:this.$router.push({path:"/listConfigItem",query:{groupId:this.value[4]}});break;default:break}},getTreeInfo:function(){var e=this;this.$api.config.getTreeData().then((function(t){e.options=t.data}))},search:function(){this.$router.push({path:"/listConfigAll",query:ce({},this.form.getFieldsValue())})},handleRestPassword:function(){this.usermodal={show:!0,title:"重置密码",option:"restpwd",name:localStorage.getItem("rcc-name"),role:void 0,loading:!1}}}},ue=se,ie=(n("a9ad"),Object(J["a"])(ue,X,Y,!1,null,"6d889046",null)),le=ie.exports,de=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},pe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("p",[e._v("© 2019-2020 Baidu.com 百度公司版权所有")])])}],fe={name:"rcc-footer"},me=fe,he=(n("e529"),Object(J["a"])(me,de,pe,!1,null,"59a9012b",null)),ge=he.exports,ve={components:{"rcc-header":le,"rcc-footer":ge},computed:{key:function(){return this.$route.name?this.$route.name+ +new Date:this.$route+new Date}}},be=ve,ye=(n("b013"),Object(J["a"])(be,Q,W,!1,null,null,null)),ke=ye.exports;D.a.use(K.a);var we=[{path:"/index",name:"index",component:function(){return n.e("chunk-182bec86").then(n.bind(null,"d504"))}},{path:"/productLine",name:"productLine",component:function(){return n.e("chunk-4ddb30c9").then(n.bind(null,"5ca2"))}},{path:"/productLine/roleManage",name:"roleManage",component:function(){return n.e("chunk-0627ae0c").then(n.bind(null,"d5c7"))}},{path:"/listProject",name:"listProject",component:function(){return n.e("chunk-45f8e821").then(n.bind(null,"83fb"))}},{path:"/listEnv",name:"listEnv",component:function(){return n.e("chunk-3b148d26").then(n.bind(null,"866e"))}},{path:"/listVersion",name:"listVersion",component:function(){return n.e("chunk-7c53eeea").then(n.bind(null,"6b71"))}},{path:"/listConfigGroup",name:"listConfigGroup",component:function(){return n.e("chunk-2d0ce830").then(n.bind(null,"6088"))}},{path:"/listConfigItem",name:"listConfigItem",component:function(){return n.e("chunk-b342cafa").then(n.bind(null,"c4a1"))}},{path:"/listConfigAll",name:"listConfigAll",component:function(){return n.e("chunk-d886e2ce").then(n.bind(null,"cdd5"))}},{path:"/listUser",name:"listUser",component:function(){return n.e("chunk-2d0cf311").then(n.bind(null,"6353"))}},{path:"/listLog",name:"listLog",component:function(){return n.e("chunk-04522f9c").then(n.bind(null,"dd24"))}}],je=new K.a({routes:[{path:"/",redirect:"/login",component:function(){return n.e("chunk-fd434c7a").then(n.bind(null,"a55b"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-fd434c7a").then(n.bind(null,"a55b"))}},{path:"/listProject",component:ke,children:we},{path:"/sysMonitor.html",name:"sysMonitor",component:function(){return n.e("chunk-2d0b60c8").then(n.bind(null,"1c00"))}},{path:"/404",component:function(){return n.e("chunk-2d0e95df").then(n.bind(null,"8cdb"))}},{path:"*",redirect:"/404"}]}),Oe=je,Pe=n("cebe"),$e=n.n(Pe),Ce={405:"无权限访问。",403:"未登录！",500:"服务器发生错误，请检查服务器。",100101:"参数错误！"},Se=document.cookie,_e="";switch("production"){case"development":_e="/api";break;case"pre":_e="/pre";break;case"production":_e=Se.includes("pre=1")?"/pre":"";break}var xe=$e.a.create({baseURL:_e,timeout:5e3,withCredentials:!0});xe.interceptors.request.use((function(e){return e.headers["rcc-ts"]=(new Date).getTime(),localStorage["rcc-token"]&&(e.headers["rcc-token"]=localStorage["rcc-token"]),e}),(function(e){return Promise.reject(e)})),xe.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response;if(t&&t.status){var n=Ce[t.status]||t.statusText,r=t.status,a=t.data;T["a"].error({message:"请求错误 "+r+": "+a.path,description:n})}else t||T["a"].error({description:"您的网络发生异常，无法连接服务器",message:"网络异常"});return Promise.reject(t)}));var Ie=xe,Ee={getIndexInfo:function(){return Ie.get("/index/notice")},getLogList:function(e){return Ie.get("/logs/list",{params:e})}},Le={getUserInfo:function(){return Ie.get("/user/profile")},getUserRoles:function(e,t,n){return Ie.get("/environment/listByUser/"+e+"/"+t+"/"+n)},addUser:function(e,t,n){return Ie.post("/project/addMember/"+e+"/"+t,n)},getUserList:function(e){return Ie.get("/admin/queryUser",{params:e})},addAdmin:function(e){return Ie.post("/admin/addAdmin",e)},updateAdmin:function(e,t){return Ie.post("/admin/updateAdmin/"+e,t)},resetPassword:function(e){return Ie.post("/admin/resetPassword",e)},deleteAdmin:function(e){return Ie.post("/admin/delAdmin/"+e)}},Ve={getConfigList:function(e){return Ie.get("/item/list",{params:e})},addConfig:function(e){return Ie.post("/item/save",e)},batchConfig:function(e){return Ie.post("/item/batchSave",e)},updateConfig:function(e){return Ie.post("/item/save",e)},deleteConfig:function(e){return Ie.post("/item/delete/"+e)},getItemQuery:function(e){return Ie.get("/item/query",{params:e})},getTreeData:function(){return Ie.get("/group/findTreeInfo")}},Te={getEnvList:function(e){return Ie.get("/environment/list",{params:e})},addEnv:function(e){return Ie.post("/environment/save",e)},updateEnv:function(e){return Ie.post("/environment/save",e)},deleteEnv:function(e){return Ie.post("/environment/delete/"+e)}},Ne={getProductList:function(e){return Ie.get("/product/myProduct",{params:e})},addProductMember:function(e,t){return Ie.post("/product/addMember/"+e,t)},updateProduct:function(e){return Ie.post("/product/save",e)}},qe={getProjectList:function(e){return Ie.get("/project/list",{params:e})},addProject:function(e){return Ie.post("/project/save",e)},updateProject:function(e){return Ie.post("/project/save",e)},deleteProject:function(e){return Ie.post("/project/delete/"+e)},getUserList:function(e){return Ie.get("/project/getMemberList",{params:e})},updateProjectRef:function(e,t){return Ie.post("/project/"+e+"/ref",t)}},De={getVersionList:function(e){return Ie.get("/version/list",{params:e})},addVersion:function(e){return Ie.post("/version/save",e)},updateVersion:function(e){return Ie.post("/version/save",e)},deleteVersion:function(e){return Ie.post("/version/delete/"+e)},copyVersion:function(e){return Ie.post("/version/copy",e)},getMyVersions:function(e){return Ie.get("/version/myVersionTree",{params:e})},getChangeLogs:function(e,t){return Ie.get("/version/"+e+"/getChangeLogs",{params:t})},pushChange:function(e){return Ie.post("/version/pushChange/"+e)}},Ae={getGroupList:function(e){return Ie.get("/group/list",{params:e})},addGroup:function(e){return Ie.post("/group/save",e)},updateGroup:function(e){return Ie.post("/group/save",e)},deleteGroup:function(e){return Ie.post("/group/delete/"+e)}},Me={login:function(e){return Ie.post("/user/login",e)},logOut:function(){return Ie.get("/user/logout")}},Fe={index:Ee,role:Le,login:Me,config:Ve,env:Te,product:Ne,version:De,group:Ae,project:qe};n("f5df"),n("202f");D.a.prototype.$message=N["a"],D.a.prototype.$notification=T["a"],D.a.prototype.$info=V["a"].info,D.a.prototype.$success=V["a"].success,D.a.prototype.$error=V["a"].error,D.a.prototype.$warning=V["a"].warning,D.a.prototype.$confirm=V["a"].confirm,D.a.use(L["a"]),D.a.use(E["a"]),D.a.use(I["a"]),D.a.use(x["a"]),D.a.use(_["a"]),D.a.use(S["a"]),D.a.use(C["a"]),D.a.use($["a"]),D.a.use(P["b"]),D.a.use(O["a"]),D.a.use(j["a"]),D.a.use(w["a"]),D.a.use(k["a"]),D.a.use(y["a"]),D.a.use(b["a"]),D.a.use(v["a"]),D.a.use(g["b"]),D.a.use(h["b"]),D.a.use(m["a"]),D.a.use(V["a"]),D.a.use(f["a"]),D.a.use(p["a"]),D.a.use(d["a"]),D.a.use(l["a"]),D.a.use(i["a"]),D.a.use(u["a"]),D.a.use(s["b"]),D.a.use(c["a"]),D.a.use(o["a"]),D.a.use(a["a"]),D.a.use(r["a"]),D.a.config.productionTip=!1,D.a.prototype.$api=Fe;var Ue=K.a.prototype.push;K.a.prototype.push=function(e){return Ue.call(this,e).catch((function(e){return e}))},new D.a({router:Oe,render:function(e){return e(z)}}).$mount("#app")},"5c48":function(e,t,n){},6389:function(e,t){e.exports=VueRouter},"7c55":function(e,t,n){"use strict";n("5c48")},"86fd":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},a9ad:function(e,t,n){"use strict";n("aca0")},aca0:function(e,t,n){},b013:function(e,t,n){"use strict";n("86fd")},cebe:function(e,t){e.exports=axios},cf05:function(e,t,n){e.exports=n.p+"img/logo.587c3748.png"},daa0:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{title:e.usermodal.title,visible:e.usermodal.show,"mask-closable":!1,"confirm-loading":e.usermodal.loading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-form",{attrs:{layout:"horizontal",form:e.form}},["restpwd"!=e.usermodal.option?n("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18},label:"用户名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"用户名必填",type:"string"}],initialValue:e.usermodal.name}],expression:"[\n                        'name',\n                        {\n                        rules: [{\n                            required: true,\n                            message: '用户名必填',\n                            type: 'string'\n                        }],\n                        initialValue: usermodal.name\n                        }\n                    ]"}],attrs:{placeholder:"请输入用户名"}})],1):e._e(),"restpwd"!=e.usermodal.option?n("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18},label:"角色"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["role",{rules:[{required:!0,message:"请选择角色！"}],initialValue:e.usermodal.role}],expression:"[\n                        'role',\n                        {\n                            rules: [{\n                                required: true,\n                                message: '请选择角色！'\n                            }],\n                            initialValue: usermodal.role\n                        }\n                    ]"}],attrs:{placeholder:"请选择角色"}},[n("a-select-option",{attrs:{value:0}},[e._v("普通")]),n("a-select-option",{attrs:{value:1}},[e._v("工程")]),n("a-select-option",{attrs:{value:2}},[e._v("产品线")]),n("a-select-option",{attrs:{value:3}},[e._v("系统管理员")])],1)],1):e._e(),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:"edit"!=e.usermodal.option,expression:"usermodal.option != 'edit'"}],attrs:{"label-col":{span:4},"wrapper-col":{span:18},label:"密码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password"],expression:"['password']"}],attrs:{type:"password",placeholder:"请输入密码"}})],1)],1)],1)],1)},a=[],o=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),c=(n("96cf"),n("3b8d"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={name:"usermodal",data:function(){return{form:this.$form.createForm(this)}},props:{usermodal:Object},methods:{handleOk:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.preventDefault(),this.form.validateFields((function(e){e||(console.log("====",n.usermodal.option),n.usermodal.loading=!0,"add"===n.usermodal.option?n.$api.role.addAdmin(u({},n.form.getFieldsValue())).then((function(e){0===e.status?(n.$emit("update"),n.usermodal.show=!1,n.$message.success("操作成功！"),n.form.resetFields()):(n.$message.error(e.msg),n.usermodal.loading=!1)})):"edit"===n.usermodal.option?n.$api.role.updateAdmin(n.usermodal.id,u({},n.form.getFieldsValue())).then((function(e){0===e.status?(n.$emit("update"),n.usermodal.show=!1,n.$message.success("操作成功！"),n.form.resetFields()):(n.$message.error(e.msg),n.usermodal.loading=!1)})):"restpwd"===n.usermodal.option&&n.$api.role.resetPassword({name:n.usermodal.name,password:n.form.getFieldValue("password")}).then((function(e){0===e.status?(n.$emit("update"),n.usermodal.show=!1,n.$message.success("操作成功！"),n.form.resetFields()):(n.$message.error(e.msg),n.usermodal.loading=!1)})))}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleCancel:function(e){this.usermodal.show=!1,this.form.resetFields()}}},l=i,d=n("2877"),p=Object(d["a"])(l,r,a,!1,null,null,null);t["a"]=p.exports},e529:function(e,t,n){"use strict";n("2ecf")}});